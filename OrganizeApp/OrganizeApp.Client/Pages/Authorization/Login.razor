@page "/login"

@rendermode InteractiveAuto
@layout AuthenticationMainLayout

<PageTitle>Zaloguj się do aplikacji</PageTitle>

@if (_isLoading)
{
    <Loading/>
}
else
{
    <section class="login-form">
        <h2 class="login-form__heading">Zaloguj się do aplikacji</h2>

        @if (_showLoginError)
        {
            <div class="alert alert-danger mx-4" role="alert">
                <div>@_error</div>
            </div>
        }

        <EditForm Model="_command" OnValidSubmit="Save" FormName="Save">
            <DataAnnotationsValidator />
            <ValidationSummary />
            <div class="login-form__group">
                <label class="login-form__label">Wprowadź adres e-mail:</label>
                <InputText @bind-Value="_command.Email"
                           class="login-form__text"
                           type="email"
                           placeholder="Wprowadź adres e-mail" />
            </div>

            <div class="login-form__group">
                <label class="login-form__label">Wprowadź hasło:</label>
                <InputText @bind-Value="_command.Password"
                           class="login-form__text"
                           type="password"
                           placeholder="Wprowadź hasło" />
            </div>

            <div class="login-form__group">
                <InputCheckbox @bind-Value="_command.NoLogout"/>
                <label class="login-form__label">Nie wylogowuj mnie</label>
            </div>

            <button class="login-form__button btn btn-primary">
                Zaloguj się
            </button>

            <div class="login-form__link">
                <a href="/register" class="login-form__a">Zarejestruj się</a>
                <a href="/forgot-password" class="login-form__a">Nie pamiętasz hasła?</a>

            </div>
        </EditForm>
    </section>
}